# Model Architecture Configuration

# Base Architecture
architecture:
  type: "MoME_Segmenter"
  input_channels: 4  # T1, T1ce, T2, FLAIR
  num_classes: 3
  base_channels: 32

# Expert Networks Configuration
experts:
  num_experts: 4
  expert_type: "UNet3D"
  base_channels: 32
  depth: 4
  attention_type: "CBAM"  # CBAM, SE, or None
  
  # Individual expert configurations
  expert_configs:
    T1:
      channels: [32, 64, 128, 256]
      attention: true
    T1ce:
      channels: [32, 64, 128, 256]
      attention: true
    T2:
      channels: [32, 64, 128, 256]
      attention: true
    FLAIR:
      channels: [32, 64, 128, 256]
      attention: true

# Gating Network Configuration
gating:
  type: "HierarchicalGating"
  input_channels: 4
  hidden_channels: [64, 32, 16]
  num_experts: 4
  temperature: 1.0
  dropout: 0.1

# Attention Mechanisms
attention:
  CBAM:
    reduction_ratio: 16
    spatial_kernel_size: 7
  
  SE:
    reduction_ratio: 16
  
  Transformer:
    num_heads: 8
    dim_feedforward: 256
    dropout: 0.1
    num_layers: 2

# Model Initialization
initialization:
  type: "kaiming_normal"
  bias: 0.0

# Regularization
regularization:
  dropout: 0.1
  batch_norm: true
  weight_decay: 1e-5

